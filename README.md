# 监控系统

## 前端设计思路

### 菜单
> 菜单是从接口中动态获取, 目前考虑的是有MySQL

#### MySQL --> 基本状态
> 1. 圆圈波浪显示一个数据库实例, 整体代表存活状态, 各波浪分别表示数据库的线程数, 问题数和平均每秒的查询数
> 2. 点击圆圈(包括波浪), 会弹出模态框, 模态框里显示该数据库实例一段时间(1小时, 3小时, 6小时, 12小时)内的线程数, 问题数和平均每秒查询数的变化, 以折线图展示
> 3. 出错时, 圆圈波浪的背景色变为危险的橙红色, 各波浪变为水平静止状态

#### MySQL --> 缓存状态
> 目前尚未想好

#### MySQL --> 复制状态
展示MySQL的复制状态
> 1. 一个小圆圈表示一个数据库实例, 绿色表示存活, 其他颜色表示出现问题
> 2. 箭头表示数据复制流动的方向(从主库复制到从库)
> 3. 复制出错时, 从库节点颜色变为红色, 复制的箭头变为红色, 并且在数据流向线上标注出错码
> 4. 点击一个数据库实例, 弹出该数据库实例关于复制的详细信息

## 后端设计思路
> 1. 在配置文件中配置MySQL的所有实例
> 2. 定时(5s)轮询获取所有MySQL实例的相关状态数据, 并放在缓存中, 数据最长存储时间为12小时
> 3. 接口实现: 从缓存中获取数据并返回
