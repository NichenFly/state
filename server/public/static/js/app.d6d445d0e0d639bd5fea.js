webpackJsonp([4],{11:function(n,t,e){"use strict";e.d(t,"b",function(){return r}),e.d(t,"c",function(){return a}),e.d(t,"f",function(){return u}),e.d(t,"g",function(){return i}),e.d(t,"d",function(){return o}),e.d(t,"e",function(){return s}),e.d(t,"n",function(){return c}),e.d(t,"m",function(){return f}),e.d(t,"a",function(){return d}),e.d(t,"i",function(){return l}),e.d(t,"k",function(){return m}),e.d(t,"h",function(){return p}),e.d(t,"j",function(){return h}),e.d(t,"l",function(){return v});var r=200,a="/api/menuController/getMenus",u="/api/mysqlController/getbases",i="/api/mysqlController/getBasesByHost",o="/api/mysqlController/getReplications",s="/api/mysqlController/getReplicationsByHost",c=5e3,f=50,d=10,l=!0,m="/bases",p="/replications",h=["host","masterSlave","state","hasError"],v=50},120:function(n,t){},124:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]}},27:function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e.d(t,"b",function(){return a}),e.d(t,"c",function(){return u}),e.d(t,"d",function(){return i}),e.d(t,"e",function(){return o}),e.d(t,"f",function(){return s}),e.d(t,"g",function(){return c}),e.d(t,"h",function(){return f}),e.d(t,"i",function(){return d}),e.d(t,"j",function(){return l});var r="SET_TITLE",a="SET_WARNS_BASE",u="SET_WARNS_REPLICATION",i="SET_BASE_DATA",o="SET_REPLICATION_NODES",s="SET_REPLICATION_MASTERS",c="SET_REPLICATION_GROUPS",f="SET_MENUS",d="SET_MENU_DESC",l="SET_EXPAND_REPLICATION"},47:function(n,t,e){"use strict";var r=e(10),a=e(125),u=e(122),i=e.n(u);r.default.use(a.a),r.default.use(i.a);var o=function(n){e.e(2).then(e.bind(null,131)).then(function(t){n(t)})},s=function(n){e.e(0).then(e.bind(null,130)).then(function(t){n(t)})},c=function(n){e.e(1).then(e.bind(null,132)).then(function(t){n(t)})};t.a=new a.a({mode:"history",routes:[{path:"/",name:"layout",component:o,children:[{path:"/bases",name:"bases",component:s},{path:"/replications",name:"replications",component:c}]}]})},48:function(n,t,e){"use strict";var r=e(10),a=e(56),u=e(78),i=e(79),o=e(81),s=e(80),c=e(127);e.n(c);r.default.use(a.a);t.a=new a.a.Store({actions:u,getters:i,state:o.a,mutations:s.a,strict:!1,plugins:[]})},49:function(n,t){},50:function(n,t,e){function r(n){e(120)}var a=e(51)(e(82),e(124),r,null,null);n.exports=a.exports},57:function(n,t,e){"use strict";function r(){return c()(o.f,{params:{format:"json",time:(new Date).getTime()}}).then(function(n){return i.a.resolve(n.data)})}function a(n){return c()(o.g,{params:{format:"json",host:n,time:(new Date).getDate()}}).then(function(n){return i.a.resolve(n.data)})}t.a=r,t.b=a;var u=e(19),i=e.n(u),o=e(11),s=e(17),c=e.n(s)},58:function(n,t,e){"use strict";function r(){return c()(o.d,{params:{format:"json",time:(new Date).getTime()}}).then(function(n){return i.a.resolve(n.data)})}function a(n){return c()(o.e,{params:{host:n,time:Date.now()}}).then(function(n){return i.a.resolve(n.data)})}t.a=r,t.b=a;var u=e(19),i=e.n(u),o=e(11),s=e(17),c=e.n(s)},76:function(n,t,e){"use strict";function r(){return s()(i.c,{params:{format:"json",time:(new Date).getTime()}}).then(function(n){return u.a.resolve(n.data)})}t.a=r;var a=e(19),u=e.n(a),i=e(11),o=e(17),s=e.n(o)},77:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(10),a=e(50),u=e.n(a),i=e(47),o=e(48),s=e(49);e.n(s);r.default.config.productionTip=!1,new r.default({el:"#app",router:i.a,store:o.a,render:function(n){return n(u.a)}})},78:function(n,t,e){"use strict";function r(n){var t=0;return n.forEach(function(n){n.hasError?t++:n.relay>l.a&&t++}),t}function a(n){var t=n.commit,r=n.state;e.i(m.a)().then(function(n){if(n.code===l.b){if(f()(r.baseData)===f()(n.data))return;var e=n.data,a=0;e.forEach(function(n){n.hasError&&a++}),t(d.b,a),t(d.d,n.data)}})}function u(n){var t={};return n.forEach(function(n){t[n.name]=n.hasError}),t}function i(n){var t=[];n.forEach(function(n){n.masters.forEach(function(n){~t.indexOf(n)||t.push(n)})});var e={};t.forEach(function(n){e[n]=[]}),n.forEach(function(n){n.masters.forEach(function(t){e[t].push({name:n.name})})});var r=[];for(var a in e)r.push({name:a,slaves:e[a]});return r}function o(n){for(var t=[],e=0;e<n.length;e++)!function(e){for(var r=n[e],a=e+1;a<n.length;a++){if("break"===function(){for(var e=n[a],u=0;u<r.slaves.length;u++){if("break"===function(){var n=r.slaves[u];if(e.slaves.find(function(t){return t.name===n.name})){var a=t.find(function(n){return~n.masters.indexOf(r.name)||~n.masters.indexOf(e)});if(a)~a.master.indexOf(r.name)?a.masters.push(e.name):a.masters.push(r.name);else{var i={};i.masters=[],i.masters.push(r.name),i.masters.push(e.name),i.slaves=[],r.slaves.forEach(function(n){~i.slaves.indexOf(n.name)||~i.masters.indexOf(n.name)||i.slaves.push(n.name)}),e.slaves.forEach(function(n){~i.slaves.indexOf(n.name)||~i.masters.indexOf(n.name)||i.slaves.push(n.name)}),t.push(i)}return"break"}}())break}if(u<r.slaves.length)return"break"}())break}if(a===n.length){t.find(function(n){return~n.masters.indexOf(r.name)})||t.push({masters:[r.name],slaves:r.slaves.map(function(n){return n.name})})}}(e);return t}function s(n){var t=n.commit,a=n.state;e.i(p.a)().then(function(n){if(n.code===l.b){var e=n.data,s=u(e);if(f()(a.replicationData.nodes)===f()(s))return;var c=i(e),m=o(c);t(d.e,s),t(d.f,c),t(d.g,m),t(d.c,r(e))}})}Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"getMenu",function(){return v}),e.d(t,"setData",function(){return E});var c=e(83),f=e.n(c),d=e(27),l=e(11),m=e(57),p=e(58),h=e(76),v=function(n){var t=this,r=n.commit;n.state;e.i(h.a)().then(function(n){if(n.code===l.b){var e=n.data;if(e.length>0){e.sort(function(n,t){return n.orderNum-t.orderNum});var a={};e.forEach(function(n){n.subMenus.sort(function(n,t){return n.orderNum-t.orderNum}),n.subMenus.forEach(function(n){a[n.path]=n.desc})}),r(d.i,a),r(d.h,e)}}else t.$Notice.error({title:"获取菜单错误",desc:"请检查服务器连接是否正确"})})},E=function(n){var t=n.commit,e=n.state;a({commit:t,state:e}),s({commit:t,state:e})}},79:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"title",function(){return r}),e.d(t,"warns",function(){return a}),e.d(t,"baseData",function(){return u}),e.d(t,"replicationData",function(){return i}),e.d(t,"menus",function(){return o}),e.d(t,"menuDesc",function(){return s}),e.d(t,"expandReplications",function(){return c});var r=function(n){return n.title},a=function(n){return n.warns},u=function(n){return n.baseData},i=function(n){return n.replicationData},o=function(n){return n.menus},s=function(n){return n.menuDesc},c=function(n){return n.expand.replications}},80:function(n,t,e){"use strict";var r,a=e(85),u=e.n(a),i=e(27),o=(r={},u()(r,i.a,function(n,t){n.title=t}),u()(r,i.b,function(n,t){n.warns.base=t}),u()(r,i.c,function(n,t){n.warns.replication=t}),u()(r,i.d,function(n,t){n.baseData=t}),u()(r,i.e,function(n,t){n.replicationData.nodes=t}),u()(r,i.f,function(n,t){n.replicationData.masters=t}),u()(r,i.g,function(n,t){n.replicationData.groups=t}),u()(r,i.h,function(n,t){n.menus=t}),u()(r,i.i,function(n,t){n.menuDesc=t}),u()(r,i.j,function(n,t){n.expand.replications[t.host]=t.status}),r);t.a=o},81:function(n,t,e){"use strict";t.a={title:"",warns:{base:0,replication:0},baseData:[],replicationData:{nodes:{},masters:[],groups:[]},menus:[],menuDesc:{}}},82:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}}},[77]);
//# sourceMappingURL=app.d6d445d0e0d639bd5fea.js.map